<div class="menus flex">
  <div class="image-container flex flex-center">
    <img src="assets/images/spotify-logo-1.png">
  </div>
  <div class="menu-container flex options">
    <app-menu-item [contenu]="'Home'" [routerLink]="['/home/home']">
      <fa-icon [icon]="homeIcon" ></fa-icon>
    </app-menu-item>
    <app-menu-item [contenu]="'Search'" [routerLink]="['/home/search']">
      <fa-icon [icon]="searchIcon" ></fa-icon>
    </app-menu-item>
  </div>
  <div class="menu-container flex">
    <div class="title-container">
    <span class="playlist-title">
      Playlists
    </span>
      <fa-icon class="add-icon" [icon]="addIcon"
               (click)="showDialog()"></fa-icon>
    </div>
    <p-dialog [(visible)]="visible" [style]="{width: '50vw', 'z-index': 1000}">
      <form [formGroup]="Form"  >

        <div class="row">
          <div class="col">

            <label for="playlist-name">Playlist Name: </label>
          </div>
          <div class="col">

            <input id="playlist-name" type="text" formControlName="playlistName" class="form-control">
          </div>

        </div>
        <div class="row">
          <div class="col"  [ngStyle]="{display:'flex',alignContent:'end',justifyContent:'end'}">
            <button class="spotify-green">
              Open My Spotify
            </button>

            <button type="button" class="btn-spotify" (click)="addPlaylist(Form.get('playlistName')!.value)">Save</button>l">
            <button type="button" class="btn-spotify" (click)="cancel()">Cancel</button>
          </div>

        </div>

      </form>
    </p-dialog>



    <div class="playlist-scroll" *ngIf="playlists$ | async as playlists">
      <app-menu-item [contenu]="'Liked Songs'" [routerLink]="['/home/savedTracks']" >
        <fa-icon [icon]="playlistIcon"></fa-icon>
      </app-menu-item>
      <app-menu-item *ngFor="let playlist of playlists" [contenu]="playlist.name"
                     [routerLink]="['playlist', playlist.id]">
        <fa-icon [icon]="playlistIcon"></fa-icon>
      </app-menu-item>
    </div>
  </div>
</div>

<div class="user-info">
  <ng-container *ngIf="(loginService.currentUser$ | async) as user">
    <app-menu-user-item [user]="user">
      <fa-icon class="icon" [icon]="signOutIcon" (click)="logout()"></fa-icon>
    </app-menu-user-item>
  </ng-container>
</div>

